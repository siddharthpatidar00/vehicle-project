<div class="flex flex-col md:flex-row gap-3 p-3">
    <app-vehicle-filter [selectedCategoryName]="categoryId || ''"
        (filterApplied)="onFilterApplied($event)"></app-vehicle-filter>
    <!-- Pass data to loading component -->
    <app-vehicle-loading [vehicles]="paginatedVehicles" [isLoading]="isLoading"></app-vehicle-loading>
</div>

<!-- Pagination buttons -->
<div class="flex items-center justify-center px-4 mt-2 space-x-2 gap-2">
    <!-- Previous Button -->
    <button (click)="changePage(currentPage - 1)" [disabled]="currentPage === 1"
        class="px-3 py-1 border rounded bg-white hover:bg-black hover:text-[#fcb026] transition disabled:opacity-50 disabled:cursor-not-allowed">
        ‹ Previous
    </button>

    <!-- Page Numbers -->
    <ng-container *ngFor="let page of [].constructor(totalPages()); let idx = index">
        <button (click)="changePage(idx + 1)"
            class="px-3 py-1 border rounded hover:bg-black hover:text-[#fcb026] transition" [ngClass]="{
          'text-[#fcb026] bg-black': currentPage === (idx + 1),
          'bg-white': currentPage !== (idx + 1)
        }">
            {{ idx + 1 }}
        </button>
    </ng-container>

    <!-- Next Button -->
    <button (click)="changePage(currentPage + 1)" [disabled]="currentPage === totalPages()"
        class="px-3 py-1 border rounded bg-white hover:bg-black hover:text-[#fcb026] transition disabled:opacity-50 disabled:cursor-not-allowed">
        Next ›
    </button>
</div>

<!-- Ad2 Section Below Pagination -->
<div *ngIf="ad2Image" class="w-full h-auto bg-gray-100 p-1 text-center flex shadow-lg mt-3">
    <img [src]="ad2Image" alt="Advertisement 1" class="h-full w-full object-cover cursor-pointer">
</div>
