<!-- Advertisement Section -->
<div *ngIf="ad1Image" class="w-full h-auto bg-gray-100 p-1 text-center flex shadow-lg">
    <img [src]="ad1Image" alt="Advertisement 1" class="h-full w-full object-cover cursor-pointer">
</div>




<!-- Slider Section -->
<div class="relative w-full h-[500px] overflow-hidden mb-4">

    <!-- Loading Skeleton -->
    <ng-container *ngIf="!images || images.length === 0">
        <div class="w-full h-full bg-gray-300 animate-pulse"></div>

        <!-- Navigation Arrows (Below, but on image) -->
        <div class="absolute z-20 flex justify-center gap-4 w-full bottom-4">
            <!-- Prev Button -->
            <button (click)="prevSlide()" class="bg-white/30 hover:bg-white/50 text-white p-3 rounded-full transition">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 stroke-white" fill="none" viewBox="0 0 24 24"
                    stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                </svg>
            </button>
            <!-- Next Button -->
            <button (click)="nextSlide()" class="bg-white/30 hover:bg-white/50 text-white p-3 rounded-full transition">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 stroke-white" fill="none" viewBox="0 0 24 24"
                    stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                </svg>
            </button>
        </div>
    </ng-container>

    <!-- Actual Slider -->
    <ng-container *ngIf="images && images.length > 0">
        <!-- Slider Images -->
        <div class="flex transition-transform duration-700 ease-in-out h-full"
            [style.transform]="'translateX(-' + currentIndex * 100 + '%)'">
            <img *ngFor="let img of images" [src]="img" class="w-full flex-shrink-0 object-cover h-full" alt="Slide" />
        </div>

        <!-- Dark Overlay -->
        <div class="absolute top-0 left-0 w-full h-full bg-black bg-opacity-50 z-0"></div>

        <!-- Navigation Arrows (Below, but on image) -->
        <div class="absolute z-20 flex justify-center gap-4 w-full bottom-4">
            <!-- Prev Button -->
            <button (click)="prevSlide()" class="bg-white/30 hover:bg-white/50 text-white p-3 rounded-full transition">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 stroke-white" fill="none" viewBox="0 0 24 24"
                    stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                </svg>
            </button>
            <!-- Next Button -->
            <button (click)="nextSlide()" class="bg-white/30 hover:bg-white/50 text-white p-3 rounded-full transition">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 stroke-white" fill="none" viewBox="0 0 24 24"
                    stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                </svg>
            </button>
        </div>
    </ng-container>

</div>



<p class="text-center font-extrabold text-5xl p-3 text-black">SELECT INDUSTRY</p>
<!-- Outer container centers the cards block -->
<div class="flex justify-center">
    <!-- Inner container holds cards aligned left, wraps to next line if needed -->
    <div class="flex flex-wrap justify-start gap-4 p-2 max-w-[1500px]">

        <!-- Loading Skeletons -->
        <ng-container *ngIf="!categories || categories.length === 0">
            <div *ngFor="let i of [1,2,3,4,5,6,7,8]"
                class="relative w-[350px] h-[250px] overflow-hidden shadow-lg animate-pulse bg-gray-400 rounded-lg">
            </div>
        </ng-container>
        <!-- Actual Cards -->
        <ng-container *ngIf="categories && categories.length > 0">
            <div *ngFor="let category of categories"
                class="relative w-[350px] h-[250px] overflow-hidden shadow-lg group cursor-pointer"
                [routerLink]="'/vehicles-listing'"
                [queryParams]="{ category_name: (category.category_name || '').trim() }">
                <!-- Background image -->
                <img [src]="getCategoryImageUrl(category.category_image)" [alt]="category.category_name"
                    class="w-full h-full object-cover transform transition-transform duration-300 group-hover:scale-105" />
                <!-- Overlay -->
                <div class="absolute inset-0 flex items-center justify-center transition duration-300">
                    <!-- Category Name with blurred background -->
                    <p
                        class="relative text-yellow-500 text-2xl font-bold px-4 py-1 bg-black backdrop-blur-sm rounded whitespace-nowrap transition-transform duration-300 group-hover:scale-110">
                        {{ category.category_name | uppercase }}
                    </p>
                </div>
            </div>
        </ng-container>
    </div>
</div>


<div class="brand-section p-4 justify-center">
    <p class="text-3xl md:text-5xl font-bold text-center text-black mb-8">Our Brands</p>

    <div class="brand-container flex flex-wrap justify-start gap-2">
        <div *ngFor="let brand of visibleBrands()"
            class="brand-card w-[48%] sm:w-[31%] md:w-[23%] lg:w-[18%] xl:w-[16%] flex flex-col items-center bg-white p-2 rounded shadow hover:shadow-lg transition">
            <img [src]="getBrandImageUrl(brand.brand_image)" [alt]="brand.brand_name"
                class="w-full h-24 object-contain mb-2 rounded" />
            <span class="text-center bg-[#fec519] w-full rounded py-2 font-semibold">{{ brand.brand_name }}</span>
        </div>
    </div>
        <div class="flex justify-center items-center mt-3 gap-3">
            <!-- Previous Button -->
            <button (click)="prevBrandPage()" class="p-2 rounded-full hover:bg-gray-100 transition">
                <img src="assets/images/previous.png" alt="previous btn img" class="w-10 h-10 object-contain">
            </button>

            <!-- Next Button -->
            <button (click)="nextBrandPage()" class="p-2 rounded-full hover:bg-gray-100 transition">
                <img src="assets/images/next.png" alt="next btn img" class="w-10 h-10 object-contain">
            </button>
        </div>
</div>






<div class="w-full overflow-hidden p-4">
    <p class="text-3xl md:text-5xl font-bold text-center text-black mb-8">Happy Customers</p>
    <div class="relative w-full max-w-5xl mx-auto">
        <div class="flex transition-transform duration-700 ease-in-out" [style.transform]="
                isMobile
                    ? 'translateX(-' + currentIndex * 100 + '%)'
                    : 'translateX(-' + currentIndex * (100 / 3) + '%)'
             " [style.width.%]="customers.length > 4 ? customers.length * 33.333 : 100">
            <div *ngFor="let customer of customers" class="w-full md:w-1/3 flex-shrink-0 px-4 mb-6">
                <div
                    class="bg-white p-4 md:p-3 rounded-lg shadow-lg flex flex-col md:flex-row items-center gap-4 overflow-hidden">

                    <!-- Image container -->
                    <div class="flex-shrink-0 w-30 h-30 md:w-24 md:h-24 rounded-full overflow-hidden">
                        <img [src]="customer.image" alt="{{ customer.name }}" class="w-full h-full object-cover" />
                    </div>

                    <!-- Text container -->
                    <div class="text-center md:text-left">
                        <p class="text-gray-700 italic">“{{ customer.message }}”</p>
                        <h4 class="mt-2 font-semibold text-[#472D2D]">{{ customer.name }}</h4>
                    </div>
                </div>
            </div>
        </div>

        <!-- Navigation Buttons below -->
        <div class="flex justify-center items-center mt-3 gap-3">
            <!-- Previous Button -->
            <button (click)="prevSlide()" class="p-2 rounded-full hover:bg-gray-100 transition">
                <img src="assets/images/previous.png" alt="previous btn img" class="w-10 h-10 object-contain">
            </button>

            <!-- Next Button -->
            <button (click)="nextSlide()" class="p-2 rounded-full hover:bg-gray-100 transition">
                <img src="assets/images/next.png" alt="next btn img" class="w-10 h-10 object-contain">
            </button>
        </div>

    </div>
</div>